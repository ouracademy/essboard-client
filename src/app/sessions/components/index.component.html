<div *ngIf="session">
  <div class="row row-detail between-xs middle-xs">
    <div class="row middle-xs ">
      <span>Sesión </span>
      <div class="pad-0-5">
        <span> {{ session.createdAt | date: "d 'de' MMMM" }}</span>

        <span *ngIf="session.hasFinished; else notFinished">
          a {{ session.endDate | date: "d 'de' MMMM" }}
        </span>
        <ng-template #notFinished>
          <button mat-stroked-button color="accent" (click)="finishSession()">
            Dar por concluído
          </button>
        </ng-template>
      </div>
    </div>
    <app-online-users></app-online-users>
    <div class="row middle-xs pad-0-5">
      <!-- <button mat-icon-button *ngIf="!session.hasFinished">
        <mat-icon class="md-24" (click)="delete()">delete_forever</mat-icon>
      </button> -->
      <button mat-icon-button (click)="isChatVisible = !isChatVisible">
        <mat-icon class="md-24">chat</mat-icon>
      </button>
      <button mat-button (click)="goToProject()">Ir a mi proyecto</button>
    </div>
  </div>
  <session-steps></session-steps>
  <chat
    *ngIf="isChatVisible"
    [sessionId]="session.id"
    [isReadonly]="session.hasFinished"
  >
  </chat>
</div>
