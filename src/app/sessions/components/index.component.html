<div *ngIf="session">
    <mat-toolbar class="detail">
        <span>Sesión</span>
        <div>
            <span> {{ session.createdAt | date:'d \'de\' MMMM' }}</span>

            <span *ngIf="session.hasFinished; else notFinished">
                a {{ session.endDate | date:'d \'de\' MMMM' }}
            </span>
            <ng-template #notFinished>
                <button mat-stroked-button color="accent" (click)="finishSession()">Dar por concluído</button>
            </ng-template>
        </div>

        <span class="fill-remaining"></span>
        <button mat-icon-button>
            <mat-icon class="md-24" (click)="delete()">delete_forever</mat-icon>
        </button>
        <button mat-icon-button (click)="isChatVisible = !isChatVisible">
            <mat-icon class="md-24">chat</mat-icon>
        </button>
        <button mat-button (click)="goToProject()">Ir a mi proyecto</button>
    </mat-toolbar>
    <mat-tab-group class="steps-tab-group ">
        <mat-tab>
            <ng-template mat-tab-label>
                <i class="material-icons">looks_one</i>
                <span mat-tooltip="Podras ver holisticamente tu proyecto" tooltip-position="below">Estado actual</span>
            </ng-template>

            <div class="content-tab">
                <div class="row middle-xs center-xs">
                    <h2 class="title">Mira como va tu proyecto </h2>
                </div>
                <div class="row center-xs">
                    <app-radar-chart class="col-xs-12 col-md-6" [idSession]="session.id" level="specific"></app-radar-chart>
                </div>
            </div>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <i class="material-icons">looks_two</i>
                <span>Determina tu estado</span>
            </ng-template>
            <div class="content-tab">
                <div class="row middle-xs center-xs">
                    <h2 class="title">Determina el estado de cualquier dimension</h2>
                    <h4 class="subtitle">( Selecciona una dimension y luego selecciona el estado que tú consideras se
                        encuentra el proyecto )</h4>
                </div>
                <div class="row">
                    <div class="alpha-buttons">
                        <mat-button-toggle-group name="dimensions-name">
                            <mat-button-toggle *ngFor="let alpha of alphas" (click)="handleSelectionAlpha(alpha)">
                                {{alpha.name}}
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
                <div class="pad-1">
                    <set-current-state [alpha]="selectedAlpha" [session]="session"></set-current-state>
                </div>
            </div>


        </mat-tab>
        <!-- <mat-tab>
            <ng-template mat-tab-label>
                <i class="material-icons">looks_3</i>
                <span>Establece las metas</span>
            </ng-template>
            <div class="content-tab">
                <set-goal-state [kernel]="session.kernel" [sessionId]="session.id"></set-goal-state>
            </div>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <i class="material-icons">looks_4</i>
                <span>Decide como lograrlo</span>
            </ng-template>

            <div class="content-tab">
                <how-reach-goals [sessionId]="session.id" [sessionNumber]="session.num"></how-reach-goals>
            </div>
        </mat-tab> -->
    </mat-tab-group>
    <chat *ngIf="isChatVisible" [sessionId]="session.id"> </chat>
</div>